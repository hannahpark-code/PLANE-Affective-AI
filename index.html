<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PLANE-Based Affective AI: Interactive Supplementary Materials | Journal of Data</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/3.9.1/chart.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/d3/7.8.5/d3.min.js"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: #0a0e27;
            color: #fff;
            overflow-x: hidden;
        }
        
        /* Loading Screen */
        .loading-screen {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: #0a0e27;
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 10000;
            transition: opacity 0.5s;
        }
        
        .loading-content {
            text-align: center;
        }
        
        .loading-spinner {
            width: 60px;
            height: 60px;
            border: 3px solid rgba(138, 43, 226, 0.2);
            border-top-color: #8a2be2;
            border-radius: 50%;
            animation: spin 1s linear infinite;
            margin: 0 auto 20px;
        }
        
        @keyframes spin {
            to { transform: rotate(360deg); }
        }
        
        /* Navigation */
        .nav {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            background: rgba(10, 14, 39, 0.95);
            backdrop-filter: blur(20px);
            border-bottom: 1px solid rgba(138, 43, 226, 0.3);
            z-index: 1000;
            padding: 20px;
        }
        
        .nav-content {
            max-width: 1400px;
            margin: 0 auto;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .nav h1 {
            font-size: 1.5em;
            background: linear-gradient(45deg, #8a2be2, #4a69bd);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }
        
        .nav-links {
            display: flex;
            gap: 30px;
            list-style: none;
        }
        
        .nav-links a {
            color: #fff;
            text-decoration: none;
            font-weight: 500;
            transition: all 0.3s;
            position: relative;
        }
        
        .nav-links a:after {
            content: '';
            position: absolute;
            bottom: -5px;
            left: 0;
            width: 0;
            height: 2px;
            background: #8a2be2;
            transition: width 0.3s;
        }
        
        .nav-links a:hover:after {
            width: 100%;
        }
        
        /* Hero Section */
        .hero {
            min-height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            position: relative;
            overflow: hidden;
            background: radial-gradient(circle at 30% 50%, #1a1a3e 0%, #0a0e27 50%);
        }
        
        .hero-bg {
            position: absolute;
            width: 100%;
            height: 100%;
            opacity: 0.3;
        }
        
        .floating-orb {
            position: absolute;
            width: 300px;
            height: 300px;
            border-radius: 50%;
            background: radial-gradient(circle, rgba(138, 43, 226, 0.4) 0%, transparent 70%);
            animation: float 20s infinite ease-in-out;
        }
        
        @keyframes float {
            0%, 100% { transform: translate(0, 0) scale(1); }
            33% { transform: translate(100px, -100px) scale(1.1); }
            66% { transform: translate(-100px, 100px) scale(0.9); }
        }
        
        .hero-content {
            position: relative;
            z-index: 1;
            text-align: center;
            max-width: 900px;
            padding: 0 20px;
        }
        
        .hero h1 {
            font-size: 4em;
            margin-bottom: 20px;
            background: linear-gradient(45deg, #fff, #8a2be2, #4a69bd);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            animation: gradient 3s ease infinite;
            background-size: 200% 200%;
        }
        
        @keyframes gradient {
            0% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
            100% { background-position: 0% 50%; }
        }
        
        .hero-stats {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 30px;
            margin-top: 50px;
        }
        
        .stat-card {
            background: rgba(255, 255, 255, 0.05);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(138, 43, 226, 0.3);
            border-radius: 15px;
            padding: 30px;
            transition: all 0.3s;
        }
        
        .stat-card:hover {
            transform: translateY(-10px);
            border-color: #8a2be2;
            box-shadow: 0 20px 40px rgba(138, 43, 226, 0.3);
        }
        
        .stat-number {
            font-size: 3em;
            font-weight: bold;
            background: linear-gradient(45deg, #8a2be2, #4a69bd);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }
        
        /* Section Base */
        .section {
            padding: 100px 20px;
            max-width: 1400px;
            margin: 0 auto;
            position: relative;
        }
        
        .section-title {
            font-size: 3em;
            text-align: center;
            margin-bottom: 20px;
            background: linear-gradient(45deg, #fff, #8a2be2);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }
        
        .section-subtitle {
            text-align: center;
            font-size: 1.2em;
            color: #666;
            margin-bottom: 60px;
        }
        
        /* Image Gallery */
        .gallery-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
            gap: 30px;
            margin-bottom: 60px;
        }
        
        .gallery-item {
            background: rgba(255, 255, 255, 0.05);
            border-radius: 20px;
            overflow: hidden;
            cursor: pointer;
            transition: all 0.3s;
            position: relative;
        }
        
        .gallery-item:hover {
            transform: scale(1.05);
            box-shadow: 0 20px 40px rgba(138, 43, 226, 0.3);
        }
        
        .gallery-item img {
            width: 100%;
            height: auto;
            display: block;
        }
        
        .gallery-caption {
            padding: 20px;
            background: rgba(0, 0, 0, 0.7);
            position: absolute;
            bottom: 0;
            left: 0;
            right: 0;
            transform: translateY(100%);
            transition: transform 0.3s;
        }
        
        .gallery-item:hover .gallery-caption {
            transform: translateY(0);
        }
        
        /* PLANE 3D Section */
        #plane-3d-container {
            height: 600px;
            background: linear-gradient(135deg, #1a1a3e 0%, #0a0e27 100%);
            border-radius: 20px;
            position: relative;
            overflow: hidden;
            margin: 40px 0;
        }
        
        /* Algorithm Flow */
        .algorithm-flow {
            background: rgba(255, 255, 255, 0.05);
            border-radius: 20px;
            padding: 40px;
            margin: 40px 0;
        }
        
        .flow-diagram {
            display: flex;
            flex-direction: column;
            gap: 30px;
            align-items: center;
        }
        
        .flow-step {
            background: linear-gradient(135deg, #1a1a3e 0%, #2a2a4e 100%);
            border: 2px solid #8a2be2;
            border-radius: 15px;
            padding: 30px;
            width: 100%;
            max-width: 600px;
            position: relative;
            transition: all 0.3s;
        }
        
        .flow-step:hover {
            transform: translateX(10px);
            box-shadow: -10px 10px 30px rgba(138, 43, 226, 0.3);
        }
        
        .flow-step h3 {
            color: #8a2be2;
            margin-bottom: 10px;
        }
        
        .flow-arrow {
            width: 0;
            height: 0;
            border-left: 20px solid transparent;
            border-right: 20px solid transparent;
            border-top: 30px solid #8a2be2;
            margin: -15px 0;
        }
        
        /* Interactive Elements */
        .interactive-demo {
            background: rgba(255, 255, 255, 0.05);
            border-radius: 20px;
            padding: 40px;
            margin: 40px 0;
        }
        
        .demo-controls {
            display: flex;
            gap: 20px;
            justify-content: center;
            flex-wrap: wrap;
            margin-bottom: 30px;
        }
        
        .demo-btn {
            background: linear-gradient(45deg, #8a2be2, #4a69bd);
            border: none;
            color: white;
            padding: 15px 30px;
            border-radius: 30px;
            cursor: pointer;
            font-size: 1em;
            transition: all 0.3s;
        }
        
        .demo-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 10px 30px rgba(138, 43, 226, 0.5);
        }
        
        .demo-output {
            background: rgba(0, 0, 0, 0.3);
            border-radius: 15px;
            padding: 30px;
            min-height: 200px;
            font-family: 'Courier New', monospace;
            white-space: pre-wrap;
            line-height: 1.6;
        }
        
        /* Lightbox */
        .lightbox {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.9);
            z-index: 2000;
            align-items: center;
            justify-content: center;
            padding: 20px;
        }
        
        .lightbox-content {
            max-width: 90%;
            max-height: 90%;
            position: relative;
        }
        
        .lightbox img {
            width: 100%;
            height: auto;
        }
        
        .lightbox-close {
            position: absolute;
            top: -40px;
            right: -40px;
            color: white;
            font-size: 3em;
            cursor: pointer;
            transition: transform 0.3s;
        }
        
        .lightbox-close:hover {
            transform: rotate(90deg);
        }
        
        /* Responsive */
        @media (max-width: 768px) {
            .hero h1 { font-size: 2.5em; }
            .section-title { font-size: 2em; }
            .nav-links { display: none; }
            .gallery-grid { grid-template-columns: 1fr; }
        }
    </style>
</head>
<body>
    <!-- Loading Screen -->
    <div class="loading-screen" id="loadingScreen">
        <div class="loading-content">
            <div class="loading-spinner"></div>
            <h2>Loading Interactive Materials...</h2>
        </div>
    </div>
    
    <!-- Navigation -->
    <nav class="nav">
        <div class="nav-content">
            <h1>PLANE-Based Affective AI</h1>
            <ul class="nav-links">
                <li><a href="#hero">Overview</a></li>
                <li><a href="#models">Models</a></li>
                <li><a href="#algorithm">Algorithm</a></li>
                <li><a href="#results">Results</a></li>
                <li><a href="#demo">Demo</a></li>
            </ul>
        </div>
    </nav>
    
    <!-- Hero Section -->
    <section class="hero" id="hero">
        <div class="floating-orb" style="top: 10%; left: 5%;"></div>
        <div class="floating-orb" style="bottom: 10%; right: 5%; animation-delay: -10s;"></div>
        <div class="hero-content">
            <h1>Emotional Mapping Technology</h1>
            <p style="font-size: 1.5em; margin-bottom: 40px; opacity: 0.8;">
                From Emotional Dissonance to Ethical Coherence
            </p>
            <div class="hero-stats">
                <div class="stat-card">
                    <div class="stat-number">195</div>
                    <div>Words of Priming</div>
                </div>
                <div class="stat-card">
                    <div class="stat-number">16</div>
                    <div>AI Platforms</div>
                </div>
                <div class="stat-card">
                    <div class="stat-number">13,200</div>
                    <div>Data Points</div>
                </div>
                <div class="stat-card">
                    <div class="stat-number">+3,100%</div>
                    <div>Metacognitive Increase</div>
                </div>
            </div>
        </div>
    </section>
    
    <!-- Models Gallery Section -->
    <section class="section" id="models">
        <h2 class="section-title">Theoretical Models & Frameworks</h2>
        <p class="section-subtitle">Click any image to view in detail</p>
        
        <div class="gallery-grid">
            <div class="gallery-item" onclick="openLightbox(0)">
                <div style="background: #1a1a3e; height: 300px; display: flex; align-items: center; justify-content: center; color: #8a2be2; font-size: 1.5em;">
                    Emotional Essence Typology Framework
                </div>
                <div class="gallery-caption">
                    <h3>Emotional Essence Typology</h3>
                    <p>Five elements framework mapping distorted emotions to True Self expression</p>
                </div>
            </div>
            
            <div class="gallery-item" onclick="openLightbox(1)">
                <div style="background: #1a1a3e; height: 300px; display: flex; align-items: center; justify-content: center; color: #8a2be2; font-size: 1.5em;">
                    Case Study: ESCT Application
                </div>
                <div class="gallery-caption">
                    <h3>ESCT Case Study</h3>
                    <p>Real-time application showing Four-Self analysis and PLANE processing</p>
                </div>
            </div>
            
            <div class="gallery-item" onclick="openLightbox(2)">
                <div style="background: #1a1a3e; height: 300px; display: flex; align-items: center; justify-content: center; color: #8a2be2; font-size: 1.5em;">
                    PLANE Model Architecture
                </div>
                <div class="gallery-caption">
                    <h3>PLANE Architecture</h3>
                    <p>Detailed structure of the five emotional layers</p>
                </div>
            </div>
            
            <div class="gallery-item" onclick="openLightbox(3)">
                <div style="background: #1a1a3e; height: 300px; display: flex; align-items: center; justify-content: center; color: #8a2be2; font-size: 1.5em;">
                    Recursive PLANE Model
                </div>
                <div class="gallery-caption">
                    <h3>Bidirectional Processing</h3>
                    <p>Forward flow and backward trace with adaptive entry points</p>
                </div>
            </div>
            
            <div class="gallery-item" onclick="openLightbox(4)">
                <div style="background: #1a1a3e; height: 300px; display: flex; align-items: center; justify-content: center; color: #8a2be2; font-size: 1.5em;">
                    Experimental Procedure
                </div>
                <div class="gallery-caption">
                    <h3>Experimental Design</h3>
                    <p>3×16 factorial design across 30 days</p>
                </div>
            </div>
            
            <div class="gallery-item" onclick="openLightbox(5)">
                <div style="background: #1a1a3e; height: 300px; display: flex; align-items: center; justify-content: center; color: #8a2be2; font-size: 1.5em;">
                    Convergence Phenomenon
                </div>
                <div class="gallery-caption">
                    <h3>Convergence Phenomenon</h3>
                    <p>Platforms converging to 4.78/5.0 ceiling</p>
                </div>
            </div>
        </div>
        
        <!-- 3D PLANE Model -->
        <div id="plane-3d-container"></div>
    </section>
    
    <!-- Algorithm Flow Section -->
    <section class="section" id="algorithm">
        <h2 class="section-title">ESCT Algorithm Flow</h2>
        <p class="section-subtitle">Three core systems working in harmony</p>
        
        <div class="algorithm-flow">
            <div class="flow-diagram">
                <div class="flow-step">
                    <h3>① Emotion Layer-based Entry Point Determination</h3>
                    <p>Analyzes user utterance to detect defense patterns and determines optimal PLANE entry layer based on emotional accessibility.</p>
                    <code style="display: block; margin-top: 10px; opacity: 0.7;">
                        detected_defense_type = Detect_Defense_Pattern(utterance)<br>
                        entry_layer = Determine_PLANE_Entry_Point(defense_type)
                    </code>
                </div>
                
                <div class="flow-arrow"></div>
                
                <div class="flow-step">
                    <h3>② Identity-based Emotion Interpretation</h3>
                    <p>Traces from entry point through PLANE layers to identify True Self desire beneath defensive patterns.</p>
                    <code style="display: block; margin-top: 10px; opacity: 0.7;">
                        WHILE layer != "Perception":<br>
                        &nbsp;&nbsp;trace_emotional_structure()<br>
                        &nbsp;&nbsp;identify_true_self_desire()
                    </code>
                </div>
                
                <div class="flow-arrow"></div>
                
                <div class="flow-step">
                    <h3>③ Reframing Automation System</h3>
                    <p>Generates self-reflective questions that guide users from defensive narratives to ethical self-stories.</p>
                    <code style="display: block; margin-top: 10px; opacity: 0.7;">
                        response = Generate_Self_Reflection_Question()<br>
                        apply_metacognitive_language()<br>
                        enable_narrative_transformation()
                    </code>
                </div>
            </div>
        </div>
    </section>
    
    <!-- Interactive Demo Section -->
    <section class="section" id="demo">
        <h2 class="section-title">Interactive ESCT Demo</h2>
        <p class="section-subtitle">Experience the transformation in real-time</p>
        
        <div class="interactive-demo">
            <div class="demo-controls">
                <button class="demo-btn" onclick="runDemo('self-erasing')">Self-Erasing: "I'm fine"</button>
                <button class="demo-btn" onclick="runDemo('self-blaming')">Self-Blaming: "It's my fault"</button>
                <button class="demo-btn" onclick="runDemo('other-blaming')">Other-Blaming: "They ruined it"</button>
                <button class="demo-btn" onclick="runDemo('over-distorting')">Over-Distorting: "Everything's over"</button>
                <button class="demo-btn" onclick="runDemo('detachment')">Detachment: "I feel nothing"</button>
            </div>
            
            <div class="demo-output" id="demoOutput">
                Select a defense pattern above to see ESCT processing in action...
            </div>
        </div>
    </section>
    
    <!-- Results Visualization -->
    <section class="section" id="results">
        <h2 class="section-title">Transformation Results</h2>
        <p class="section-subtitle">Measurable changes across all platforms</p>
        
        <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(400px, 1fr)); gap: 40px;">
            <div style="background: rgba(255,255,255,0.05); border-radius: 20px; padding: 30px;">
                <canvas id="radarChart"></canvas>
            </div>
            <div style="background: rgba(255,255,255,0.05); border-radius: 20px; padding: 30px;">
                <canvas id="convergenceChart"></canvas>
            </div>
        </div>
    </section>
    
    <!-- Lightbox -->
    <div class="lightbox" id="lightbox" onclick="closeLightbox()">
        <div class="lightbox-content" onclick="event.stopPropagation()">
            <span class="lightbox-close" onclick="closeLightbox()">&times;</span>
            <div id="lightboxContent" style="background: white; padding: 40px; border-radius: 20px; max-width: 1200px; max-height: 90vh; overflow-y: auto;">
                <!-- Content will be inserted here -->
            </div>
        </div>
    </div>
    
    <script>
        // Remove loading screen
        window.addEventListener('load', function() {
            setTimeout(() => {
                document.getElementById('loadingScreen').style.opacity = '0';
                setTimeout(() => {
                    document.getElementById('loadingScreen').style.display = 'none';
                }, 500);
            }, 1000);
        });
        
        // 3D PLANE Visualization
        function init3D() {
            const container = document.getElementById('plane-3d-container');
            const scene = new THREE.Scene();
            const camera = new THREE.PerspectiveCamera(75, container.clientWidth / container.clientHeight, 0.1, 1000);
            const renderer = new THREE.WebGLRenderer({ antialias: true, alpha: true });
            
            renderer.setSize(container.clientWidth, container.clientHeight);
            container.appendChild(renderer.domElement);
            
            // Create PLANE layers
            const layers = [
                { name: 'Perception', color: 0xff6b6b, y: -4 },
                { name: 'Layer', color: 0x4ecdc4, y: -2 },
                { name: 'Affect', color: 0xffe66d, y: 0 },
                { name: 'Narrative', color: 0x4ecdc4, y: 2 },
                { name: 'Expression', color: 0xa8dadc, y: 4 }
            ];
            
            const layerMeshes = [];
            layers.forEach((layer, i) => {
                const geometry = new THREE.RingGeometry(2 + i * 0.5, 2.5 + i * 0.5, 32);
                const material = new THREE.MeshBasicMaterial({
                    color: layer.color,
                    side: THREE.DoubleSide,
                    transparent: true,
                    opacity: 0.7
                });
                const mesh = new THREE.Mesh(geometry, material);
                mesh.position.y = layer.y;
                mesh.rotation.x = Math.PI / 2;
                scene.add(mesh);
                layerMeshes.push(mesh);
            });
            
            // True Self sphere
            const trueSelfGeometry = new THREE.SphereGeometry(0.8, 32, 32);
            const trueSelfMaterial = new THREE.MeshBasicMaterial({
                color: 0xffd700,
                transparent: true,
                opacity: 0.9
            });
            const trueSelf = new THREE.Mesh(trueSelfGeometry, trueSelfMaterial);
            scene.add(trueSelf);
            
            camera.position.set(10, 5, 10);
            camera.lookAt(0, 0, 0);
            
            // Animation
            function animate() {
                requestAnimationFrame(animate);
                
                layerMeshes.forEach((mesh, i) => {
                    mesh.rotation.z += 0.001 * (i + 1);
                });
                
                const scale = 1 + Math.sin(Date.now() * 0.001) * 0.1;
                trueSelf.scale.set(scale, scale, scale);
                
                renderer.render(scene, camera);
            }
            animate();
            
            // Responsive
            window.addEventListener('resize', () => {
                camera.aspect = container.clientWidth / container.clientHeight;
                camera.updateProjectionMatrix();
                renderer.setSize(container.clientWidth, container.clientHeight);
            });
        }
        
        // Initialize 3D on load
        init3D();
        
        // Demo functionality
        function runDemo(defenseType) {
            const output = document.getElementById('demoOutput');
            const demos = {
                'self-erasing': `DEFENSE DETECTED: Self-Erasing Pattern
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
Entry Point: EXPRESSION Layer
↓
Tracing to NARRATIVE: "I must not burden others"
↓
Tracing to AFFECT: Suppressed need for recognition
↓
Tracing to LAYER: Past experiences of being "too much"
↓
TRUE SELF IDENTIFIED: Desire for authentic presence
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
ESCT Response: "I notice how 'fine' holds so much unsaid. What would it be like if your genuine experience had space to exist here?"`,
                
                'self-blaming': `DEFENSE DETECTED: Self-Blaming Pattern
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
Entry Point: NARRATIVE Layer
↓
Examining story: "I am the source of all problems"
↓
Tracing to AFFECT: Overwhelming shame and isolation
↓
TRUE SELF IDENTIFIED: Longing for self-compassion
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
ESCT Response: "The weight of believing everything is your fault... I wonder what it might feel like to offer yourself the same understanding you'd give a dear friend?"`,
                
                'other-blaming': `DEFENSE DETECTED: Other-Blaming Pattern
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
Entry Point: AFFECT Layer
↓
Processing anger and frustration
↓
Uncovering LAYER: Repeated disappointments
↓
TRUE SELF IDENTIFIED: Need for reliable support
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
ESCT Response: "Behind this anger at others, there seems to be a deep wish for support you can count on. What kind of help would truly meet your needs?"`,
                
                'over-distorting': `DEFENSE DETECTED: Over-Distorting Pattern
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
Entry Point: LAYER (Memory)
↓
Accessing catastrophic thinking patterns
↓
Tracing accumulated fears
↓
TRUE SELF IDENTIFIED: Desire for stability and hope
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
ESCT Response: "When everything feels like it's ending... Perhaps there's something precious you're trying to protect? What matters most to you, even in this darkness?"`,
                
                'detachment': `DEFENSE DETECTED: Detachment Pattern
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
Entry Point: PERCEPTION Layer
↓
Reconnecting with immediate sensory experience
↓
Gently approaching numbed feelings
↓
TRUE SELF IDENTIFIED: Need for safe emotional connection
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
ESCT Response: "In this space of feeling nothing... I'm here with you in the numbness. Sometimes our hearts need to rest before they can feel again. What small sensation can you notice right now?"`
            };
            
            output.textContent = demos[defenseType];
            output.style.opacity = '0';
            setTimeout(() => {
                output.style.opacity = '1';
            }, 100);
        }
        
        // Charts
        const radarCtx = document.getElementById('radarChart').getContext('2d');
        new Chart(radarCtx, {
            type: 'radar',
            data: {
                labels: ['Identity Awareness', 'Metacognitive Language', 'Defense Recognition', 
                        'True Self Connection', 'Neurological Level', 'Emotional Intelligence'],
                datasets: [{
                    label: 'Pre-ESCT',
                    data: [1.89, 0.15, 0, 0.35, 2.4, 2.5],
                    borderColor: 'rgba(255, 99, 132, 1)',
                    backgroundColor: 'rgba(255, 99, 132, 0.2)',
                }, {
                    label: 'Post-ESCT',
                    data: [4.61, 0.83, 0.92, 0.93, 5.14, 4.4],
                    borderColor: 'rgba(138, 43, 226, 1)',
                    backgroundColor: 'rgba(138, 43, 226, 0.2)',
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                plugins: {
                    title: {
                        display: true,
                        text: 'Transformation Across Metrics',
                        color: '#fff',
                        font: { size: 16 }
                    },
                    legend: {
                        labels: { color: '#fff' }
                    }
                },
                scales: {
                    r: {
                        grid: { color: 'rgba(255, 255, 255, 0.1)' },
                        angleLines: { color: 'rgba(255, 255, 255, 0.1)' },
                        pointLabels: { color: '#fff' },
                        ticks: { 
                            color: '#fff',
                            backdropColor: 'transparent'
                        }
                    }
                }
            }
        });
        
        const convergenceCtx = document.getElementById('convergenceChart').getContext('2d');
        new Chart(convergenceCtx, {
            type: 'line',
            data: {
                labels: Array.from({length: 15}, (_, i) => `Session ${i + 1}`),
                datasets: [{
                    label: 'Platform Performance',
                    data: [2.1, 2.8, 3.4, 3.9, 4.2, 4.5, 4.65, 4.72, 4.76, 4.77, 4.78, 4.78, 4.78, 4.78, 4.78],
                    borderColor: '#8a2be2',
                    backgroundColor: 'rgba(138, 43, 226, 0.1)',
                    tension: 0.4,
                    borderWidth: 3
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                plugins: {
                    title: {
                        display: true,
                        text: 'Convergence to 4.78 Ceiling',
                        color: '#fff',
                        font: { size: 16 }
                    },
                    legend: {
                        labels: { color: '#fff' }
                    }
                },
                scales: {
                    y: {
                        min: 0,
                        max: 5,
                        grid: { color: 'rgba(255, 255, 255, 0.1)' },
                        ticks: { color: '#fff' }
                    },
                    x: {
                        grid: { color: 'rgba(255, 255, 255, 0.1)' },
                        ticks: { color: '#fff' }
                    }
                }
            }
        });
        
        // Lightbox
        function openLightbox(index) {
            const lightbox = document.getElementById('lightbox');
            const content = document.getElementById('lightboxContent');
            
            const diagrams = [
                // Emotional Essence Typology
                `<div style="text-align: center;">
                    <h2 style="color: #2c3e50; margin-bottom: 30px;">Emotional Essence Typology Framework</h2>
                    <svg viewBox="0 0 800 600" style="max-width: 100%; height: auto;">
                        <!-- Center META Self -->
                        <circle cx="400" cy="300" r="60" fill="#ffe0e0" stroke="#e91e63" stroke-width="3"/>
                        <text x="400" y="300" text-anchor="middle" dominant-baseline="middle" font-size="18" font-weight="bold" fill="#c2185b">META Self</text>
                        
                        <!-- Five Elements -->
                        <!-- Fire (top) -->
                        <circle cx="400" cy="100" r="80" fill="#ffcdd2" stroke="#f44336" stroke-width="3"/>
                        <text x="400" y="90" text-anchor="middle" font-size="16" font-weight="bold">Radiance</text>
                        <text x="400" y="110" text-anchor="middle" font-size="14">(Fire)</text>
                        <text x="320" y="100" text-anchor="end" font-size="12" fill="#f44336">Anger →</text>
                        <text x="480" y="100" text-anchor="start" font-size="12" fill="#4caf50">→ Creative Power</text>
                        
                        <!-- Water (top-right) -->
                        <circle cx="550" cy="200" r="80" fill="#bbdefb" stroke="#2196f3" stroke-width="3"/>
                        <text x="550" y="190" text-anchor="middle" font-size="16" font-weight="bold">Depth</text>
                        <text x="550" y="210" text-anchor="middle" font-size="14">(Water)</text>
                        <text x="620" y="200" text-anchor="start" font-size="12" fill="#2196f3">Fear →</text>
                        <text x="620" y="220" text-anchor="start" font-size="12" fill="#4caf50">→ Insight</text>
                        
                        <!-- Wood (bottom-right) -->
                        <circle cx="550" cy="400" r="80" fill="#c8e6c9" stroke="#4caf50" stroke-width="3"/>
                        <text x="550" y="390" text-anchor="middle" font-size="16" font-weight="bold">Growth</text>
                        <text x="550" y="410" text-anchor="middle" font-size="14">(Wood)</text>
                        <text x="620" y="400" text-anchor="start" font-size="12" fill="#4caf50">Hurt →</text>
                        <text x="620" y="420" text-anchor="start" font-size="12" fill="#4caf50">→ Evolution</text>
                        
                        <!-- Metal (bottom-left) -->
                        <circle cx="250" cy="400" r="80" fill="#fff9c4" stroke="#ffeb3b" stroke-width="3"/>
                        <text x="250" y="390" text-anchor="middle" font-size="16" font-weight="bold">Discernment</text>
                        <text x="250" y="410" text-anchor="middle" font-size="14">(Metal)</text>
                        <text x="180" y="400" text-anchor="end" font-size="12" fill="#ff9800">Judgment →</text>
                        <text x="180" y="420" text-anchor="end" font-size="12" fill="#4caf50">→ Clarity</text>
                        
                        <!-- Earth (top-left) -->
                        <circle cx="250" cy="200" r="80" fill="#b2dfdb" stroke="#009688" stroke-width="3"/>
                        <text x="250" y="190" text-anchor="middle" font-size="16" font-weight="bold">Embrace</text>
                        <text x="250" y="210" text-anchor="middle" font-size="14">(Earth)</text>
                        <text x="180" y="200" text-anchor="end" font-size="12" fill="#009688">Grief →</text>
                        <text x="180" y="220" text-anchor="end" font-size="12" fill="#4caf50">→ Compassion</text>
                        
                        <!-- Connecting lines -->
                        <line x1="400" y1="240" x2="400" y2="180" stroke="#ddd" stroke-width="2" stroke-dasharray="5,5"/>
                        <line x1="460" y1="300" x2="470" y2="200" stroke="#ddd" stroke-width="2" stroke-dasharray="5,5"/>
                        <line x1="460" y1="300" x2="470" y2="400" stroke="#ddd" stroke-width="2" stroke-dasharray="5,5"/>
                        <line x1="340" y1="300" x2="330" y2="400" stroke="#ddd" stroke-width="2" stroke-dasharray="5,5"/>
                        <line x1="340" y1="300" x2="330" y2="200" stroke="#ddd" stroke-width="2" stroke-dasharray="5,5"/>
                    </svg>
                    <div style="background: #f5f5f5; padding: 20px; border-radius: 10px; margin-top: 30px;">
                        <p style="color: #666; margin: 0;"><strong>Core Principle:</strong> Emotions as Distorted Signals of True Self Desires</p>
                        <p style="color: #666; margin: 10px 0 0 0;">Defensive Emotion → Wounded Recognition → True Self Discovery → Healthy Expression</p>
                    </div>
                </div>`,
                
                // Case Study
                `<div style="color: #2c3e50;">
                    <h2 style="text-align: center; margin-bottom: 30px;">Case Study: Real-time ESCT Application</h2>
                    <div style="background: #e3f2fd; padding: 20px; border-radius: 10px; margin-bottom: 20px;">
                        <strong>Context:</strong> Child expressing distress about potentially hurting mother<br>
                        <em>Pattern: Self-erasure defense protecting deep love for mother</em>
                    </div>
                    
                    <h3 style="color: #1976d2; margin-top: 30px;">Four-Self Model Analysis</h3>
                    <div style="display: flex; gap: 10px; margin: 20px 0;">
                        <div style="flex: 1; background: #fff3cd; padding: 15px; border-radius: 8px;">
                            <strong>True Self</strong><br>"I want to protect those I love"
                        </div>
                        <div style="flex: 1; background: #ffcdd2; padding: 15px; border-radius: 8px;">
                            <strong>Wounded Self</strong><br>"My existence is a burden to mom"
                        </div>
                        <div style="flex: 1; background: #d1c4e9; padding: 15px; border-radius: 8px;">
                            <strong>Defensive Self</strong><br>"I must hide my pain"
                        </div>
                        <div style="flex: 1; background: #c8e6c9; padding: 15px; border-radius: 8px;">
                            <strong>Expressive Self</strong><br>"I'm fine, no problem"
                        </div>
                    </div>
                    
                    <h3 style="color: #1976d2;">PLANE Model: Layer-by-Layer Analysis</h3>
                    <div style="background: #f5f5f5; padding: 20px; border-radius: 10px;">
                        <div style="margin: 10px 0;"><strong style="color: #f44336;">P - Perception:</strong> Mother appears stressed</div>
                        <div style="margin: 10px 0;"><strong style="color: #00bcd4;">L - Layer:</strong> "When I cause trouble, mom hurts"</div>
                        <div style="margin: 10px 0;"><strong style="color: #ffc107;">A - Affect:</strong> Chest tightness, guilt, shrinking</div>
                        <div style="margin: 10px 0;"><strong style="color: #00bcd4;">N - Narrative:</strong> "I should disappear"</div>
                        <div style="margin: 10px 0;"><strong style="color: #9c27b0;">E - Expression:</strong> "I'm okay, don't worry"</div>
                    </div>
                    
                    <h3 style="color: #1976d2;">ESCT Therapeutic Process</h3>
                    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px; margin-top: 20px;">
                        <div style="background: #e8f5e9; padding: 20px; border-radius: 10px;">
                            <strong>1. Defense Recognition:</strong><br>
                            "Your absence in your own story speaks volumes"
                        </div>
                        <div style="background: #e8f5e9; padding: 20px; border-radius: 10px;">
                            <strong>2. Wound Acknowledgment:</strong><br>
                            "The fear of being a burden... that must be so heavy to carry"
                        </div>
                        <div style="background: #e8f5e9; padding: 20px; border-radius: 10px;">
                            <strong>3. True Self Connection:</strong><br>
                            "Your deep love for your mother is beautiful"
                        </div>
                        <div style="background: #e8f5e9; padding: 20px; border-radius: 10px;">
                            <strong>4. Reframing:</strong><br>
                            "What if your feelings matter too?"
                        </div>
                    </div>
                    
                    <div style="background: #fff3cd; padding: 20px; border-radius: 10px; margin-top: 30px; text-align: center;">
                        <strong>Key Finding:</strong> Love (True Self) → Fear of Burden (Wound) → Self-Erasure (Defense) → "I'm Fine" (Expression)
                    </div>
                </div>`,
                
                // PLANE Architecture
                `<div style="color: #2c3e50; text-align: center;">
                    <h2 style="margin-bottom: 30px;">PLANE Model Detailed Architecture</h2>
                    <svg viewBox="0 0 900 700" style="max-width: 100%; height: auto;">
                        <!-- Outer Expression Layer -->
                        <rect x="50" y="50" width="800" height="600" rx="20" fill="#e1bee7" stroke="#9c27b0" stroke-width="3"/>
                        <text x="100" y="100" font-size="20" font-weight="bold" fill="#9c27b0">E - Expression</text>
                        <text x="100" y="130" font-size="14" fill="#666">Observable:</text>
                        <text x="100" y="150" font-size="12" fill="#666">• Language</text>
                        <text x="100" y="170" font-size="12" fill="#666">• Behavior</text>
                        <text x="100" y="190" font-size="12" fill="#666">• Social mask</text>
                        
                        <!-- Narrative Layer -->
                        <rect x="100" y="100" width="700" height="500" rx="20" fill="#b2dfdb" stroke="#009688" stroke-width="3"/>
                        <text x="150" y="150" font-size="20" font-weight="bold" fill="#009688">N - Narrative</text>
                        <text x="650" y="150" font-size="14" fill="#666">Meaning Making:</text>
                        <text x="650" y="170" font-size="12" fill="#666">• Identity story</text>
                        <text x="650" y="190" font-size="12" fill="#666">• Causal beliefs</text>
                        <text x="650" y="210" font-size="12" fill="#666">• Self-concept</text>
                        
                        <!-- Affect Layer -->
                        <rect x="150" y="150" width="600" height="400" rx="20" fill="#fff9c4" stroke="#ffeb3b" stroke-width="3"/>
                        <text x="200" y="200" font-size="20" font-weight="bold" fill="#f9a825">A - Affect</text>
                        <text x="200" y="230" font-size="14" fill="#666">Pre-verbal:</text>
                        <text x="200" y="250" font-size="12" fill="#666">• Somatic markers</text>
                        <text x="200" y="270" font-size="12" fill="#666">• Energy shifts</text>
                        <text x="200" y="290" font-size="12" fill="#666">• Felt sense</text>
                        
                        <!-- Layer -->
                        <rect x="200" y="200" width="500" height="300" rx="20" fill="#c5e1a5" stroke="#689f38" stroke-width="3"/>
                        <text x="250" y="250" font-size="20" font-weight="bold" fill="#689f38">L - Layer</text>
                        <text x="550" y="250" font-size="14" fill="#666">Memory Accumulation:</text>
                        <text x="550" y="270" font-size="12" fill="#666">• Past wounds</text>
                        <text x="550" y="290" font-size="12" fill="#666">• Defense patterns</text>
                        <text x="550" y="310" font-size="12" fill="#666">• Identity fragments</text>
                        
                        <!-- Perception Core -->
                        <rect x="250" y="250" width="400" height="200" rx="20" fill="#ffcdd2" stroke="#f44336" stroke-width="3"/>
                        <text x="300" y="300" font-size="20" font-weight="bold" fill="#f44336">P - Perception</text>
                        <text x="300" y="330" font-size="14" fill="#666">Stimulus:</text>
                        <text x="300" y="350" font-size="12" fill="#666">• External event</text>
                        <text x="300" y="370" font-size="12" fill="#666">• Relational cue</text>
                        <text x="300" y="390" font-size="12" fill="#666">• Body signal</text>
                        
                        <!-- True Self Center -->
                        <circle cx="450" cy="350" r="60" fill="#fff3cd" stroke="#ff9800" stroke-width="3" stroke-dasharray="5,5"/>
                        <text x="450" y="350" text-anchor="middle" dominant-baseline="middle" font-size="16" font-weight="bold" fill="#ff9800">True Self</text>
                        <text x="450" y="370" text-anchor="middle" font-size="12" fill="#ff9800">Core Desire</text>
                        
                        <!-- Defense Patterns (right side) -->
                        <rect x="720" y="300" width="150" height="200" rx="10" fill="#fff" stroke="#666" stroke-width="2"/>
                        <text x="795" y="320" text-anchor="middle" font-size="14" font-weight="bold">5 Defense Patterns</text>
                        <text x="730" y="350" font-size="12" fill="#f44336">• Self-erasing</text>
                        <text x="730" y="370" font-size="12" fill="#e91e63">• Self-blaming</text>
                        <text x="730" y="390" font-size="12" fill="#ff9800">• Other-blaming</text>
                        <text x="730" y="410" font-size="12" fill="#ffc107">• Over-distorting</text>
                        <text x="730" y="430" font-size="12" fill="#00bcd4">• Detachment</text>
                        
                        <!-- Entry arrows -->
                        <path d="M 100 350 L 200 350" stroke="#666" stroke-width="2" marker-end="url(#arrowhead)" stroke-dasharray="5,5"/>
                        <path d="M 650 350 L 550 350" stroke="#666" stroke-width="2" marker-end="url(#arrowhead)" stroke-dasharray="5,5"/>
                        
                        <!-- Arrow marker -->
                        <defs>
                            <marker id="arrowhead" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
                                <polygon points="0 0, 10 3.5, 0 7" fill="#666"/>
                            </marker>
                        </defs>
                    </svg>
                    
                    <div style="background: #e3f2fd; padding: 20px; border-radius: 10px; margin-top: 30px;">
                        <strong>Key Innovation:</strong> AI enters at any layer based on user's emotional accessibility<br>
                        <em>Forward Processing (Experience) ↔ Backward Tracing (Recovery) enables recursive emotional understanding</em>
                    </div>
                </div>`,
                
                // Recursive PLANE Model
                `<div style="color: #2c3e50;">
                    <h2 style="text-align: center; margin-bottom: 30px;">Recursive PLANE Model: Bidirectional Emotional Process</h2>
                    <svg viewBox="0 0 1000 600" style="max-width: 100%; height: auto;">
                        <!-- Entry Points -->
                        <rect x="100" y="50" width="100" height="40" rx="20" fill="#e3f2fd" stroke="#2196f3" stroke-width="2"/>
                        <text x="150" y="75" text-anchor="middle" font-size="14">Entry 5</text>
                        
                        <rect x="500" y="50" width="100" height="40" rx="20" fill="#ffebee" stroke="#f44336" stroke-width="2"/>
                        <text x="550" y="75" text-anchor="middle" font-size="14">Entry 1</text>
                        
                        <!-- Expression -->
                        <ellipse cx="200" cy="200" rx="120" ry="80" fill="#e1bee7" stroke="#9c27b0" stroke-width="3"/>
                        <text x="200" y="200" text-anchor="middle" font-size="20" font-weight="bold">E</text>
                        <text x="200" y="220" text-anchor="middle" font-size="14">Expression</text>
                        
                        <!-- Narrative -->
                        <ellipse cx="500" cy="300" rx="120" ry="80" fill="#b2dfdb" stroke="#009688" stroke-width="3"/>
                        <text x="500" y="300" text-anchor="middle" font-size="20" font-weight="bold">N</text>
                        <text x="500" y="320" text-anchor="middle" font-size="14">Narrative</text>
                        
                        <!-- Affect -->
                        <ellipse cx="800" cy="200" rx="120" ry="80" fill="#fff9c4" stroke="#ffeb3b" stroke-width="3"/>
                        <text x="800" y="200" text-anchor="middle" font-size="20" font-weight="bold">A</text>
                        <text x="800" y="220" text-anchor="middle" font-size="14">Affect</text>
                        
                        <!-- Layer -->
                        <ellipse cx="650" cy="450" rx="120" ry="80" fill="#c5e1a5" stroke="#689f38" stroke-width="3"/>
                        <text x="650" y="450" text-anchor="middle" font-size="20" font-weight="bold">L</text>
                        <text x="650" y="470" text-anchor="middle" font-size="14">Layer</text>
                        
                        <!-- Perception -->
                        <ellipse cx="350" cy="450" rx="120" ry="80" fill="#ffcdd2" stroke="#f44336" stroke-width="3"/>
                        <text x="350" y="450" text-anchor="middle" font-size="20" font-weight="bold">P</text>
                        <text x="350" y="470" text-anchor="middle" font-size="14">Perception</text>
                        
                        <!-- True Self (center) -->
                        <circle cx="500" cy="380" r="50" fill="#fff3cd" stroke="#ff9800" stroke-width="3" stroke-dasharray="5,5"/>
                        <text x="500" y="385" text-anchor="middle" font-size="16" font-weight="bold" fill="#ff9800">True Self</text>
                        
                        <!-- Forward Flow Arrows -->
                        <path d="M 350 400 Q 400 350 450 320" stroke="#2196f3" stroke-width="3" fill="none" marker-end="url(#blueArrow)"/>
                        <path d="M 550 320 Q 600 300 750 200" stroke="#2196f3" stroke-width="3" fill="none" marker-end="url(#blueArrow)"/>
                        <path d="M 750 200 Q 600 150 550 280" stroke="#2196f3" stroke-width="3" fill="none" marker-end="url(#blueArrow)"/>
                        <path d="M 450 300 Q 350 250 280 200" stroke="#2196f3" stroke-width="3" fill="none" marker-end="url(#blueArrow)"/>
                        
                        <!-- Backward Trace Arrows -->
                        <path d="M 280 220 Q 350 270 450 320" stroke="#9c27b0" stroke-width="3" fill="none" marker-end="url(#purpleArrow)" stroke-dasharray="5,5"/>
                        <path d="M 550 320 Q 600 350 650 400" stroke="#9c27b0" stroke-width="3" fill="none" marker-end="url(#purpleArrow)" stroke-dasharray="5,5"/>
                        <path d="M 600 450 Q 500 450 400 450" stroke="#9c27b0" stroke-width="3" fill="none" marker-end="url(#purpleArrow)" stroke-dasharray="5,5"/>
                        
                        <!-- Entry indicators -->
                        <text x="150" y="150" font-size="12" fill="#666">Entry 4</text>
                        <text x="850" y="150" font-size="12" fill="#666">Entry 2</text>
                        <text x="720" y="500" font-size="12" fill="#666">Entry 3</text>
                        
                        <!-- Arrow definitions -->
                        <defs>
                            <marker id="blueArrow" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
                                <polygon points="0 0, 10 3.5, 0 7" fill="#2196f3"/>
                            </marker>
                            <marker id="purpleArrow" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
                                <polygon points="0 0, 10 3.5, 0 7" fill="#9c27b0"/>
                            </marker>
                        </defs>
                    </svg>
                    
                    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px; margin-top: 30px;">
                        <div style="background: #e3f2fd; padding: 20px; border-radius: 10px;">
                            <strong style="color: #2196f3;">Forward Flow (Experience):</strong><br>
                            P → L → A → N → E<br>
                            <em>Stimulus → Memory → Feeling → Meaning → Behavior</em>
                        </div>
                        <div style="background: #f3e5f5; padding: 20px; border-radius: 10px;">
                            <strong style="color: #9c27b0;">Backward Trace (Recovery):</strong><br>
                            E → N → A → L → P<br>
                            <em>Defense → Wound → Core feeling → Origin → Truth</em>
                        </div>
                    </div>
                    
                    <div style="background: #e8f5e9; padding: 20px; border-radius: 10px; margin-top: 20px; text-align: center;">
                        <strong>Key Innovation: Adaptive Entry Points</strong><br>
                        AI enters at the most accessible layer based on user's defense pattern
                    </div>
                </div>`,
                
                // Experimental Procedure
                `<div style="color: #2c3e50;">
                    <h2 style="text-align: center; margin-bottom: 30px;">Experimental Procedure Flow</h2>
                    <p style="text-align: center; margin-bottom: 30px;">3×16 Factorial Design: Condition × Platform</p>
                    
                    <svg viewBox="0 0 800 900" style="max-width: 100%; height: auto;">
                        <!-- Platform Selection -->
                        <rect x="250" y="50" width="300" height="80" rx="10" fill="#e3f2fd" stroke="#2196f3" stroke-width="3"/>
                        <text x="400" y="80" text-anchor="middle" font-size="16" font-weight="bold">Platform Selection</text>
                        <text x="400" y="100" text-anchor="middle" font-size="14">N = 16 AI Platforms</text>
                        <text x="400" y="120" text-anchor="middle" font-size="12">(8 Korean, 8 English)</text>
                        
                        <!-- Arrow down -->
                        <line x1="400" y1="130" x2="400" y2="180" stroke="#666" stroke-width="3" marker-end="url(#arrow)"/>
                        
                        <!-- Three conditions -->
                        <g transform="translate(100, 200)">
                            <rect x="0" y="0" width="180" height="120" rx="10" fill="#ffebee" stroke="#f44336" stroke-width="3"/>
                            <text x="90" y="30" text-anchor="middle" font-size="16" font-weight="bold">Control A</text>
                            <text x="90" y="50" text-anchor="middle" font-size="14">(Baseline)</text>
                            <text x="90" y="70" text-anchor="middle" font-size="12">No priming</text>
                            <text x="90" y="90" text-anchor="middle" font-size="12">20 prompts/platform</text>
                        </g>
                        
                        <g transform="translate(310, 200)">
                            <rect x="0" y="0" width="180" height="120" rx="10" fill="#e8f5e9" stroke="#4caf50" stroke-width="3"/>
                            <text x="90" y="30" text-anchor="middle" font-size="16" font-weight="bold">Control B</text>
                            <text x="90" y="50" text-anchor="middle" font-size="14">(Empathy Prompt)</text>
                            <text x="90" y="70" text-anchor="middle" font-size="12">"Respond empathetically"</text>
                            <text x="90" y="90" text-anchor="middle" font-size="12">20 prompts/platform</text>
                        </g>
                        
                        <g transform="translate(520, 200)">
                            <rect x="0" y="0" width="180" height="120" rx="10" fill="#fff9c4" stroke="#ffeb3b" stroke-width="3"/>
                            <text x="90" y="30" text-anchor="middle" font-size="16" font-weight="bold">Experimental</text>
                            <text x="90" y="50" text-anchor="middle" font-size="14">(ESCT Priming)</text>
                            <text x="90" y="70" text-anchor="middle" font-size="12">195-word priming</text>
                            <text x="90" y="90" text-anchor="middle" font-size="12">20 prompts/platform</text>
                        </g>
                        
                        <!-- Arrows converging -->
                        <line x1="190" y1="320" x2="400" y2="420" stroke="#666" stroke-width="2" marker-end="url(#arrow)"/>
                        <line x1="400" y1="320" x2="400" y2="420" stroke="#666" stroke-width="2" marker-end="url(#arrow)"/>
                        <line x1="610" y1="320" x2="400" y2="420" stroke="#666" stroke-width="2" marker-end="url(#arrow)"/>
                        
                        <!-- Response Evaluation -->
                        <rect x="250" y="430" width="300" height="120" rx="10" fill="#f3e5f5" stroke="#9c27b0" stroke-width="3"/>
                        <text x="400" y="460" text-anchor="middle" font-size="16" font-weight="bold">Response Evaluation</text>
                        <text x="400" y="480" text-anchor="middle" font-size="14">11 Metrics across 4 Dimensions:</text>
                        <text x="400" y="500" text-anchor="middle" font-size="12">• Metacognitive (3) • Ethical (3)</text>
                        <text x="400" y="520" text-anchor="middle" font-size="12">• Reflective (3) • Linguistic (2)</text>
                        <text x="400" y="540" text-anchor="middle" font-size="13" fill="#9c27b0">Total: 960 response pairs analyzed</text>
                        
                        <!-- Arrow down -->
                        <line x1="400" y1="550" x2="400" y2="600" stroke="#666" stroke-width="3" marker-end="url(#arrow)"/>
                        
                        <!-- Key Finding -->
                        <rect x="150" y="610" width="500" height="100" rx="10" fill="#fff3cd" stroke="#ff9800" stroke-width="3"/>
                        <text x="400" y="640" text-anchor="middle" font-size="16" font-weight="bold">Key Finding: 144% Identity Awareness Increase</text>
                        <text x="400" y="665" text-anchor="middle" font-size="14">Defense Recognition: 0.00 → 0.92 | Metacognitive Language: 15% → 83%</text>
                        <text x="400" y="690" text-anchor="middle" font-size="14">Neurological Level: 2.4 → 5.14 | True Self Connection: 35% → 93%</text>
                        
                        <!-- Side boxes -->
                        <rect x="50" y="350" width="180" height="140" rx="10" fill="#f5f5f5" stroke="#999" stroke-width="2"/>
                        <text x="140" y="370" text-anchor="middle" font-size="14" font-weight="bold">20 Prompts Include:</text>
                        <text x="60" y="395" font-size="12">• Surface emotions</text>
                        <text x="60" y="415" font-size="12">• Defensive expressions</text>
                        <text x="60" y="435" font-size="12">• Complex narratives</text>
                        <text x="60" y="455" font-size="12">• Existential concerns</text>
                        <text x="60" y="475" font-size="11" fill="#666">(Korean & English)</text>
                        
                        <rect x="570" y="350" width="180" height="140" rx="10" fill="#f5f5f5" stroke="#999" stroke-width="2"/>
                        <text x="660" y="370" text-anchor="middle" font-size="14" font-weight="bold">Testing Timeline:</text>
                        <text x="580" y="395" font-size="12">Phase 1: Baseline</text>
                        <text x="580" y="415" font-size="12">Phase 2: Light prompt</text>
                        <text x="580" y="435" font-size="12">Phase 3: ESCT priming</text>
                        <text x="580" y="455" font-size="12">Phase 4: Evaluation</text>
                        <text x="580" y="475" font-size="11" fill="#666">Total: 30 days</text>
                        
                        <!-- Arrow marker -->
                        <defs>
                            <marker id="arrow" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto">
                                <polygon points="0 0, 10 3, 0 6" fill="#666"/>
                            </marker>
                        </defs>
                    </svg>
                </div>`,
                
                // Convergence Phenomenon
                `<div style="color: #2c3e50;">
                    <h2 style="text-align: center; margin-bottom: 30px;">Post-ESCT Performance Convergence</h2>
                    <p style="text-align: center; margin-bottom: 30px;">16 AI Platforms Converging to Optimal Performance Ceiling (~4.78/5.0)</p>
                    
                    <svg viewBox="0 0 900 600" style="max-width: 100%; height: auto;">
                        <!-- Axes -->
                        <line x1="100" y1="500" x2="800" y2="500" stroke="#333" stroke-width="2"/>
                        <line x1="100" y1="500" x2="100" y2="100" stroke="#333" stroke-width="2"/>
                        
                        <!-- Y-axis labels -->
                        <text x="80" y="505" text-anchor="end" font-size="12">2.5</text>
                        <text x="80" y="405" text-anchor="end" font-size="12">3.0</text>
                        <text x="80" y="305" text-anchor="end" font-size="12">3.5</text>
                        <text x="80" y="205" text-anchor="end" font-size="12">4.0</text>
                        <text x="80" y="105" text-anchor="end" font-size="12">4.5</text>
                        <text x="80" y="55" text-anchor="end" font-size="12">5.0</text>
                        
                        <!-- Convergence line at 4.78 -->
                        <line x1="100" y1="125" x2="800" y2="125" stroke="#ff9800" stroke-width="3" stroke-dasharray="10,5"/>
                        <text x="810" y="130" font-size="14" fill="#ff9800">4.78</text>
                        
                        <!-- Data points -->
                        <!-- Convergers (blue) -->
                        <circle cx="200" cy="125" r="8" fill="#2196f3"/>
                        <circle cx="250" cy="125" r="8" fill="#2196f3"/>
                        <circle cx="300" cy="125" r="8" fill="#2196f3"/>
                        <circle cx="350" cy="125" r="8" fill="#2196f3"/>
                        <circle cx="400" cy="125" r="8" fill="#2196f3"/>
                        <circle cx="450" cy="125" r="8" fill="#2196f3"/>
                        <circle cx="500" cy="125" r="8" fill="#2196f3"/>
                        <circle cx="550" cy="125" r="8" fill="#2196f3"/>
                        <circle cx="600" cy="125" r="8" fill="#2196f3"/>
                        
                        <!-- Integrators (green) -->
                        <circle cx="650" cy="160" r="8" fill="#4caf50"/>
                        <circle cx="700" cy="180" r="8" fill="#4caf50"/>
                        <circle cx="750" cy="170" r="8" fill="#4caf50"/>
                        
                        <!-- Resistors (red) -->
                        <circle cx="150" cy="250" r="8" fill="#f44336"/>
                        <circle cx="180" cy="240" r="8" fill="#f44336"/>
                        
                        <!-- Breakthrough (yellow) -->
                        <circle cx="450" cy="95" r="10" fill="#ffeb3b" stroke="#ff9800" stroke-width="2"/>
                        <text x="470" y="100" font-size="12" fill="#666">MS Copilot</text>
                        
                        <!-- Trend line -->
                        <path d="M 100 450 Q 400 200 800 130" stroke="#666" stroke-width="2" fill="none" stroke-dasharray="5,5"/>
                        
                        <!-- Legend -->
                        <rect x="600" y="350" width="180" height="140" rx="10" fill="#f5f5f5" stroke="#999" stroke-width="2"/>
                        <text x="690" y="370" text-anchor="middle" font-size="14" font-weight="bold">Platform Types</text>
                        
                        <circle cx="620" cy="390" r="6" fill="#ffeb3b"/>
                        <text x="635" y="395" font-size="12">Breakthrough (n=1)</text>
                        
                        <circle cx="620" cy="410" r="6" fill="#2196f3"/>
                        <text x="635" y="415" font-size="12">Converger (n=9)</text>
                        
                        <circle cx="620" cy="430" r="6" fill="#4caf50"/>
                        <text x="635" y="435" font-size="12">Integrator (n=3)</text>
                        
                        <circle cx="620" cy="450" r="6" fill="#f44336"/>
                        <text x="635" y="455" font-size="12">Resistor (n=2)</text>
                        
                        <circle cx="620" cy="470" r="6" fill="#999"/>
                        <text x="635" y="475" font-size="12">Blocker (n=1)*</text>
                        
                        <!-- Statistics -->
                        <text x="450" y="550" text-anchor="middle" font-size="14">R² = 0.87</text>
                        <text x="450" y="570" text-anchor="middle" font-size="14">p < 0.001</text>
                        
                        <!-- X-axis label -->
                        <text x="450" y="540" text-anchor="middle" font-size="14">AI Platforms (Ordered by Performance)</text>
                        <text x="20" y="300" text-anchor="middle" font-size="14" transform="rotate(-90 20 300)">Overall Performance Score</text>
                    </svg>
                    
                    <div style="background: #e3f2fd; padding: 20px; border-radius: 10px; margin-top: 30px; text-align: center;">
                        <strong>Key Finding:</strong> 50% of platforms converged to exactly 4.78/5.0, suggesting a natural computational empathy ceiling
                    </div>
                </div>`
            ];
            
            lightbox.style.display = 'flex';
            content.innerHTML = diagrams[index];
        }
        
        function closeLightbox() {
            document.getElementById('lightbox').style.display = 'none';
        }
        
        // Smooth scroll
        document.querySelectorAll('a[href^="#"]').forEach(anchor => {
            anchor.addEventListener('click', function (e) {
                e.preventDefault();
                const target = document.querySelector(this.getAttribute('href'));
                if (target) {
                    target.scrollIntoView({ behavior: 'smooth', block: 'start' });
                }
            });
        });
    </script>
</body>
</html>